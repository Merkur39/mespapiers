(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{BeY5:function(e,t,n){"use strict";n.r(t);var a=n("lSNA"),r=n.n(a),c=n("RIqP"),o=n.n(c),i=n("yXPU"),l=n.n(i),u=n("J4zp"),s=n.n(u),m=n("o0o1"),f=n.n(m),p=n("q1tI"),v=n.n(p),d=n("buk/"),b=n("SH7X"),g=n("1aYg"),O=n("cbAs"),E=n("gPjO"),I=n("aN1g"),y=n("vEVt"),h=n("JeaN"),j=n("MSWZ"),C=n("KXWi"),S=n("BuRe"),w=n("y6ex"),N=n("QaI8"),k=n("1kmH"),P=n("EfXe"),x=n("p3VU"),D=n("fLr4"),L=n("Vggm"),z=n.n(L),H=n("2E0U"),F=function(){var e=l()(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collection(H.b),e.next=3,n.findMyself();case 3:return a=e.sent,r=a.data,e.abrupt("return",r[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=n("nZHA");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=b.models.contact.getFullname,R={color:"var(--primaryColor)",backgroundColor:"var(--primaryColorLightest)"},V=function(){var e=Object(b.useClient)(),t=Object(d.f)().t,n=Object(D.a)().setFormData,a=Object(p.useState)(!1),r=s()(a,2),c=r[0],i=r[1],u=Object(p.useState)([]),m=s()(u,2),C=m[0],P=m[1],L=Object(p.useState)(null),H=s()(L,2),U=H[0],M=H[1],V=function(e,t){var n=Object(p.useState)((function(){try{var n=window.sessionStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return z()("error",a),t}})),a=s()(n,2),r=a[0],c=a[1],o=Object(p.useCallback)((function(t){try{var n=t instanceof Function?t(r):t;c(n),window.sessionStorage.setItem(e,JSON.stringify(n))}catch(a){z()("error",a)}}),[e,r]);return[r,o]}("contactList",[]),A=s()(V,2),T=A[0],B=A[1];Object(p.useEffect)((function(){var t=!0;return l()(f.a.mark((function n(){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F(e);case 2:a=n.sent,t&&(P([a].concat(o()(T))),!U&&M(a._id));case 4:case"end":return n.stop()}}),n)})))(),function(){t=!1}}),[e,U,T]),Object(p.useEffect)((function(){U&&n((function(e){return _(_({},e),{},{contacts:C.filter((function(e){return e._id===U}))})}))}),[U,C,n]);var Y=function(e){return M(e.target.value)};return v.a.createElement(v.a.Fragment,null,v.a.createElement(g.a,{elevation:2,className:"u-mt-1 u-mh-half"},v.a.createElement(O.a,null,v.a.createElement("div",{className:"u-mah-5 u-ov-auto"},C.map((function(e){return v.a.createElement(E.a,{key:e._id,onClick:function(){return M(e._id)}},v.a.createElement(I.a,null,v.a.createElement(S.b,{size:"small",style:R})),v.a.createElement(y.a,{primary:"".concat(J(e)," ").concat(e.me?"(".concat(t("ContactStep.me"),")"):"")}),v.a.createElement(h.a,{className:"u-mr-half"},v.a.createElement(k.a,{checked:U===e._id,onChange:Y,value:e._id,name:"radio-contactsList"})))}))),v.a.createElement(j.a,{variant:"inset",component:"li"}),v.a.createElement(E.a,{onClick:function(){return i(!0)}},v.a.createElement(I.a,null,v.a.createElement(S.b,{size:"small",style:R})),v.a.createElement(y.a,{primary:t("ContactStep.other")}),v.a.createElement(w.a,{icon:N.a,size:16,color:"var(--secondaryTextColor)"})))),c&&v.a.createElement(x.a,{placeholder:t("ContactStep.contactModal.placeholder"),dismissAction:function(){return i(!1)},onItemClick:function(e){return function(e){C.some((function(t){return t._id===e._id}))||(P((function(t){return[].concat(o()(t),[e])})),B((function(t){return[].concat(o()(t),[e])}))),M(e._id),i(!1)}(e)},addContactLabel:t("ContactStep.contactModal.addContactLabel"),emptyMessage:t("ContactStep.contactModal.emptyContact")}))};t.default=function(e){var t=e.currentStep,n=Object(d.f)().t,a=t.illustration,r=t.text,c=Object(D.a)().formSubmit,o=Object(p.useState)(!1),i=s()(o,2),l=i[0],u=i[1];return v.a.createElement(v.a.Fragment,null,v.a.createElement(U.a,{icon:a,iconSize:"small",title:n(r),text:v.a.createElement(V,null)}),v.a.createElement(P.a,{className:"u-w-100 u-mh-0 u-mb-1 cozyDialogActions"},v.a.createElement(C.b,{className:"u-db",extension:"full",label:n(l?"ContactStep.onLoad":"ContactStep.save"),onClick:function(){u(!0),c()},disabled:l,busy:l})))}},Jnff:function(e,t,n){var a={"./Account.svg":["9vNz",10],"./HomeCloud.svg":["crtK"],"./IlluCovidVaccineCertificate.svg":["OYMy",11],"./IlluDiploma.svg":["DlI2",12],"./IlluDriverLicenseBack.svg":["3TjK",13],"./IlluDriverLicenseFront.svg":["nZj8",14],"./IlluDriverLicenseNumberHelp.svg":["1l2G",15],"./IlluDriverLicenseObtentionDateHelp.svg":["9y6+",16],"./IlluGenericInputDate.svg":["ELfQ",17],"./IlluGenericInputText.svg":["F8wz",18],"./IlluGenericNewPage.svg":["5pfh",19],"./IlluIdCardBack.svg":["rp3j",20],"./IlluIdCardExpirationDateHelp.svg":["pCpU",21],"./IlluIdCardFront.svg":["7WME",22],"./IlluIdCardNumberHelp.svg":["UQdY",23],"./IlluIdResidencePermitExpirationDateHelp.svg":["Lz5l",24],"./IlluInvoice.svg":["rBSM",25],"./IlluResidencePermitBack.svg":["psg/",26],"./IlluResidencePermitFront.svg":["Tptz",27],"./IlluResidencePermitNumberHelp.svg":["OWGV",28],"./IlluVehicleRegistration.svg":["tlYB",29],"./IlluVehiculeRegistrationContent.svg":["vrja",30],"./Konnectors.svg":["YqmH"],"./PhoneUpload.svg":["e89A"],"./RIB.svg":["UZHZ",31]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id="Jnff",e.exports=r},fLr4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n("Nl77"),c=function(){var e=Object(a.useContext)(r.b);if(!e)throw new Error("useFormData must be used within a FormDataProvider");return e}},n2U4:function(e,t,n){},nZHA:function(e,t,n){"use strict";var a=n("pVnL"),r=n.n(a),c=n("lSNA"),o=n.n(c),i=n("yXPU"),l=n.n(i),u=n("J4zp"),s=n.n(u),m=n("QILm"),f=n.n(m),p=n("o0o1"),v=n.n(p),d=n("q1tI"),b=n.n(d),g=n("17x9"),O=n.n(g),E=n("TSYQ"),I=n.n(E),y=n("Z0cm"),h=n.n(y),j=n("1I/2"),C=n("c8ah"),S=n("y6ex"),w=(n("n2U4"),["icon","fallbackIcon","iconSize","title","text","className"]),N=function(e){var t,a=e.icon,c=e.fallbackIcon,i=e.iconSize,u=e.title,m=e.text,p=e.className,g=f()(e,w),O=Object(d.useState)(null),E=s()(O,2),y=E[0],N=E[1],k=Object(j.b)().isMobile;return Object(d.useEffect)((function(){var e=!0;return l()(v.a.mark((function t(){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("Jnff")("./".concat(a)).catch((function(){return{default:c}}));case 2:r=t.sent,e&&N(r.default);case 4:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[a,c]),b.a.createElement("div",r()({className:I()("composite-header-container",p)},g),y&&b.a.createElement(S.a,{className:I()("composite-header-img",o()({},"composite-header-img--".concat(i),"normal"!==i)),icon:y,size:"100%"}),u&&(Object(d.isValidElement)(u)?u:b.a.createElement(C.a,{variant:"h5",color:"textPrimary",className:"u-mh-2"},u)),m&&(Object(d.isValidElement)(m)||h()(m)?b.a.createElement("div",{className:I()((t={},o()(t,"u-mv-1",!k||h()(m)&&m.length<=1),o()(t,"u-mt-1 u-mah-5 u-pv-1 u-ov-scroll",k&&h()(m)&&m.length>1),t))},m):b.a.createElement(C.a,{variant:"body1",className:"u-mt-1"},m)))};N.propTypes={icon:S.b,fallbackIcon:S.b,iconSize:O.a.oneOf(["small","normal","medium","large"]),title:O.a.oneOfType([O.a.string,O.a.object]).isRequired,text:O.a.oneOfType([O.a.string,O.a.object,O.a.arrayOf(O.a.node)]),className:O.a.string},N.defaultProps={iconSize:"normal"},t.a=N}}]);