(window.webpackJsonp=window.webpackJsonp||[]).push([[6,7],{"9Yiz":function(e,t,n){"use strict";n.r(t);var r=n("lSNA"),a=n.n(r),u=n("J4zp"),c=n.n(u),o=n("q1tI"),i=n.n(o),l=n("17x9"),s=n.n(l),p=n("ERmx"),f=n("buk/"),b=n("Vggm"),d=n.n(b);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.attrs,n=e.setValue,r=e.setValidInput,u=t.name,l=t.inputLabel,s=t.metadata,b=t.type,g=Object(f.f)().t,y=Object(o.useState)(s[u]||""),O=c()(y,2),m=O[0],h=O[1];Object(o.useEffect)((function(){r(0===m.length||m.length===P),n((function(e){return v(v({},e),{},a()({},u,m))}))}),[u,m,n,r,P]);var j=Object(o.useMemo)((function(){return function(e){var t=e.split(":"),n=c()(t,2),r=n[0],a=void 0===r?e:r,u=n[1],o={inputType:"",inputMaxLength:0};switch(a){case"Number":o.inputType="Number".toLowerCase();break;case"Text":o.inputType="Text".toLowerCase();break;default:d()("warn",'"type" in "attributes" property is not defined or unexpected, "type" set to "text" by default'),o.inputType="Text".toLowerCase()}return u&&(o.inputMaxLength=parseInt(u,10)),o}(b)}),[b]),w=j.inputType,P=j.inputMaxLength,k=Object(o.useCallback)((function(e){var t=e.target.value;(P>0&&t.length<=P||0===P)&&h(t)}),[P]);return i.a.createElement(p.a,{value:m,type:w,onChange:k,variant:"outlined",label:l?g(l):"",fullWidth:!0,autoFocus:!0})},O=s.a.shape({name:s.a.string,inputLabel:s.a.string,metadata:s.a.shape(a()({},"attrsProptypes.name",s.a.string)),type:s.a.string});y.propTypes={attrs:O.isRequired,setValue:s.a.func.isRequired};t.default=y},C2q6:function(e,t,n){"use strict";n.r(t);var r=n("lSNA"),a=n.n(r),u=n("q1tI"),c=n.n(u),o=n("/yuz"),i=n("55Ip"),l=n("SH7X"),s=n("buk/"),p=n("1I/2"),f=n("dHS8"),b=n("owhZ"),d=n("7dT6");jest.mock("cozy-scanner/dist/locales",(function(){return{getBoundT:jest.fn((function(){return jest.fn()}))}})),jest.mock("cozy-scanner/dist/DocumentTypeData",(function(){return{themes:[{}]}}));var g=function(e){var t=e.children,n=e.client;return c.a.createElement(l.CozyProvider,{client:n||Object(l.createMockClient)({})},c.a.createElement(s.d,{dictRequire:function(){return d},lang:"en"},c.a.createElement(b.a,{lang:"en"},c.a.createElement(p.a,null,c.a.createElement(f.a,null,c.a.createElement(i.a,null,t))))))},v=n("9Yiz");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}jest.mock("cozy-scanner/dist/locales",(function(){return{getBoundT:jest.fn((function(){return jest.fn()}))}}));var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fakeValue";return{name:"name01",inputLabel:"PaperJSON.IDCard.number.inputLabel",metadata:{name01:t},type:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m(),t=e.metadata.name01,n=Object(o.b)(c.a.createElement(g,null,c.a.createElement(v.default,{attrs:e,setValue:jest.fn(),setValidInput:jest.fn()}))),r=n.getByDisplayValue(t);return O({input:r},n)};describe("InputTextAdapter components:",(function(){it("should be rendered correctly",(function(){var e=h().container;expect(e).toBeDefined()})),it("should have a value of 5 letters",(function(){var e=h(m(":5")).input;o.a.change(e,{target:{value:"abcde"}}),expect(e.value).toBe("abcde")})),it('should have a value of "fakeValue"',(function(){var e=h(m(":5")).input;o.a.change(e,{target:{value:"abcdefgh"}}),expect(e.value).toBe("fakeValue"),o.a.change(e,{target:{value:"123456789"}}),expect(e.value).toBe("fakeValue")})),it("should have a value of 5 digits",(function(){var e=h(m("Number:5","789")).input;o.a.change(e,{target:{value:"12345"}}),expect(e.value).toBe("12345")}))}))}}]);