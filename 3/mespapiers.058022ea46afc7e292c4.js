(window.webpackJsonp=window.webpackJsonp||[]).push([[3,4],{BeY5:function(e,t,n){"use strict";n.r(t);var a=n("lSNA"),r=n.n(a),c=n("RIqP"),o=n.n(c),l=n("yXPU"),i=n.n(l),u=n("J4zp"),s=n.n(u),m=n("o0o1"),f=n.n(m),d=n("q1tI"),p=n.n(d),v=n("buk/"),b=n("SH7X"),g=n("1aYg"),y=n("cbAs"),E=n("gPjO"),O=n("aN1g"),h=n("vEVt"),I=n("JeaN"),j=n("MSWZ"),S=n("KXWi"),C=n("BuRe"),x=n("y6ex"),w=n("QaI8"),N=n("1kmH"),k=n("EfXe"),P=n("p3VU"),D=n("fLr4"),L=n("Vggm"),z=n.n(L),H=n("P41U"),B=n("nZHA");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=b.models.contact.getFullname,U={color:"var(--primaryColor)",backgroundColor:"var(--primaryColorLightest)"},q=function(){var e=Object(b.useClient)(),t=Object(v.f)().t,n=Object(D.a)().setFormData,a=Object(d.useState)(!1),r=s()(a,2),c=r[0],l=r[1],u=Object(d.useState)([]),m=s()(u,2),S=m[0],k=m[1],L=Object(d.useState)(null),B=s()(L,2),T=B[0],q=B[1],J=function(e,t){var n=Object(d.useState)((function(){try{var n=window.sessionStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return z()("error",a),t}})),a=s()(n,2),r=a[0],c=a[1],o=Object(d.useCallback)((function(t){try{var n=t instanceof Function?t(r):t;c(n),window.sessionStorage.setItem(e,JSON.stringify(n))}catch(a){z()("error",a)}}),[e,r]);return[r,o]}("contactList",[]),R=s()(J,2),_=R[0],V=R[1];Object(d.useEffect)((function(){var t=!0;return i()(f.a.mark((function n(){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(H.a)(e);case 2:a=n.sent,t&&(k([a].concat(o()(_))),!T&&q(a._id));case 4:case"end":return n.stop()}}),n)})))(),function(){t=!1}}),[e,T,_]),Object(d.useEffect)((function(){T&&n((function(e){return F(F({},e),{},{contacts:S.filter((function(e){return e._id===T}))})}))}),[T,S,n]);var A=function(e){return q(e.target.value)};return p.a.createElement(p.a.Fragment,null,p.a.createElement(g.a,{elevation:2,className:"u-mt-1 u-mh-half"},p.a.createElement(y.a,null,p.a.createElement("div",{className:"u-mah-5 u-ov-auto"},S.map((function(e){return p.a.createElement(E.a,{key:e._id,onClick:function(){return q(e._id)}},p.a.createElement(O.a,null,p.a.createElement(C.b,{size:"small",style:U})),p.a.createElement(h.a,{primary:"".concat(M(e)," ").concat(e.me?"(".concat(t("ContactStep.me"),")"):"")}),p.a.createElement(I.a,{className:"u-mr-half"},p.a.createElement(N.a,{checked:T===e._id,onChange:A,value:e._id,name:"radio-contactsList"})))}))),p.a.createElement(j.a,{variant:"inset",component:"li"}),p.a.createElement(E.a,{onClick:function(){return l(!0)}},p.a.createElement(O.a,null,p.a.createElement(C.b,{size:"small",style:U})),p.a.createElement(h.a,{primary:t("ContactStep.other")}),p.a.createElement(x.a,{icon:w.a,size:16,color:"var(--secondaryTextColor)"})))),c&&p.a.createElement(P.a,{placeholder:t("ContactStep.contactModal.placeholder"),dismissAction:function(){return l(!1)},onItemClick:function(e){return function(e){S.some((function(t){return t._id===e._id}))||(k((function(t){return[].concat(o()(t),[e])})),V((function(t){return[].concat(o()(t),[e])}))),q(e._id),l(!1)}(e)},addContactLabel:t("ContactStep.contactModal.addContactLabel"),emptyMessage:t("ContactStep.contactModal.emptyContact")}))};t.default=function(e){var t=e.currentStep,n=Object(v.f)().t,a=t.illustration,r=t.text,c=Object(D.a)().formSubmit,o=Object(d.useState)(!1),l=s()(o,2),i=l[0],u=l[1];return p.a.createElement(p.a.Fragment,null,p.a.createElement(B.a,{icon:a,iconSize:"small",title:n(r),text:p.a.createElement(q,null)}),p.a.createElement(k.a,{className:"u-w-100 u-mh-0 u-mb-1 cozyDialogActions"},p.a.createElement(S.b,{className:"u-db",extension:"full",label:n(i?"ContactStep.onLoad":"ContactStep.save"),onClick:function(){u(!0),c()},disabled:i,busy:i})))}},Jnff:function(e,t,n){var a={"./Account.svg":["9vNz",10],"./HomeCloud.svg":["crtK"],"./IlluCovidVaccineCertificate.svg":["OYMy",11],"./IlluDiploma.svg":["DlI2",12],"./IlluDriverLicenseBack.svg":["3TjK",13],"./IlluDriverLicenseFront.svg":["nZj8",14],"./IlluDriverLicenseNumberHelp.svg":["1l2G",15],"./IlluDriverLicenseObtentionDateHelp.svg":["9y6+",16],"./IlluGenericInputDate.svg":["ELfQ",17],"./IlluGenericInputText.svg":["F8wz",18],"./IlluGenericNewPage.svg":["5pfh",19],"./IlluIdCardBack.svg":["rp3j",20],"./IlluIdCardExpirationDateHelp.svg":["pCpU",21],"./IlluIdCardFront.svg":["7WME",22],"./IlluIdCardNumberHelp.svg":["UQdY",23],"./IlluIdResidencePermitExpirationDateHelp.svg":["Lz5l",24],"./IlluInvoice.svg":["rBSM",25],"./IlluResidencePermitBack.svg":["psg/",26],"./IlluResidencePermitFront.svg":["Tptz",27],"./IlluResidencePermitNumberHelp.svg":["OWGV",28],"./IlluVehicleRegistration.svg":["tlYB",29],"./IlluVehiculeRegistrationContent.svg":["vrja",30],"./Konnectors.svg":["YqmH"],"./PhoneUpload.svg":["e89A"],"./RIB.svg":["UZHZ",31]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id="Jnff",e.exports=r},LmkQ:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),c=n("/yuz"),o=n("QG+L"),l=n("BeY5"),i=n("Nl77"),u={illustration:"illu.svg",text:"text of step"},s=function(){var e={collection:jest.fn((function(){return{findMyself:jest.fn((function(){return{data:[{fullname:"Bob"}]}}))}}))};return Object(c.b)(r.a.createElement(o.a,{client:e},r.a.createElement(i.a,null,r.a.createElement(l.default,{currentStep:u}))))};describe("PaperLine components:",(function(){it("should be rendered correctly",(function(){var e=s().container;expect(e).toBeDefined()})),it('should display "text of step"',(function(){var e=s().getByText;expect(e("text of step"))})),it('should display "Someone else"',(function(){var e=s().getByText;expect(e("Someone else"))})),it('should display "Save"',(function(){var e=s().getByText;expect(e("Save"))}))}))},"QG+L":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),c=n("55Ip"),o=n("LhCv"),l=n("SH7X"),i=n("buk/"),u=n("1I/2"),s=n("dHS8"),m=n("d7tf"),f=n("cqqa"),d=n("owhZ"),p=n("JayD"),v=n("7dT6");jest.mock("cozy-client/dist/models/document/documentTypeData",(function(){return{themes:[{}]}}));t.a=function(e){var t=e.children,n=e.client,a=e.history||Object(o.b)();return r.a.createElement(l.CozyProvider,{client:n||Object(l.createMockClient)({})},r.a.createElement(i.d,{dictRequire:function(){return v},lang:"en"},r.a.createElement(d.a,{lang:"en"},r.a.createElement(u.a,null,r.a.createElement(p.a,null,r.a.createElement(s.a,null,r.a.createElement(m.a,null,r.a.createElement(f.a,null,r.a.createElement(c.a,{history:a},t)))))))))}},fLr4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n("Nl77"),c=function(){var e=Object(a.useContext)(r.b);if(!e)throw new Error("useFormData must be used within a FormDataProvider");return e}},n2U4:function(e,t,n){},nZHA:function(e,t,n){"use strict";var a=n("pVnL"),r=n.n(a),c=n("lSNA"),o=n.n(c),l=n("yXPU"),i=n.n(l),u=n("J4zp"),s=n.n(u),m=n("QILm"),f=n.n(m),d=n("o0o1"),p=n.n(d),v=n("q1tI"),b=n.n(v),g=n("17x9"),y=n.n(g),E=n("TSYQ"),O=n.n(E),h=n("Z0cm"),I=n.n(h),j=n("1I/2"),S=n("c8ah"),C=n("y6ex"),x=(n("n2U4"),["icon","fallbackIcon","iconSize","title","text","className"]),w=function(e){var t,a=e.icon,c=e.fallbackIcon,l=e.iconSize,u=e.title,m=e.text,d=e.className,g=f()(e,x),y=Object(v.useState)(null),E=s()(y,2),h=E[0],w=E[1],N=Object(j.b)().isMobile;return Object(v.useEffect)((function(){var e=!0;return i()(p.a.mark((function t(){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("Jnff")("./".concat(a)).catch((function(){return{default:c}}));case 2:r=t.sent,e&&w(r.default);case 4:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[a,c]),b.a.createElement("div",r()({className:O()("composite-header-container",d)},g),h&&b.a.createElement(C.a,{className:O()("composite-header-img",o()({},"composite-header-img--".concat(l),"normal"!==l)),icon:h,size:"100%"}),u&&(Object(v.isValidElement)(u)?u:b.a.createElement(S.a,{variant:"h5",color:"textPrimary",className:"u-mh-2"},u)),m&&(Object(v.isValidElement)(m)||I()(m)?b.a.createElement("div",{className:O()((t={},o()(t,"u-mv-1",!N||I()(m)&&m.length<=1),o()(t,"u-mt-1 u-mah-5 u-pv-1 u-ov-scroll",N&&I()(m)&&m.length>1),t))},m):b.a.createElement(S.a,{variant:"body1",className:"u-mt-1"},m)))};w.propTypes={icon:C.b,fallbackIcon:C.b,iconSize:y.a.oneOf(["small","normal","medium","large"]),title:y.a.oneOfType([y.a.string,y.a.object]).isRequired,text:y.a.oneOfType([y.a.string,y.a.object,y.a.arrayOf(y.a.node)]),className:y.a.string},w.defaultProps={iconSize:"normal"},t.a=w}}]);